type Event @model {
  comments: [Comment!]! @hasMany(type: "connection")
  date: Date
  id: ID! @globalId
  name: String
  stars: [Star!]! @hasMany(type: "connection")
  users: [User!]! @belongsToMany(type: "connection")
}

extend type Query {
  events: [Event!]! @field(resolver: "App\\GraphQL\\Queries\\EventQuery@resolve")
}

input UpdateEvent {
  date: DateTime!
  name: String!
  id: ID!
}

extend type Mutation {
  deleteEvent(id: ID!): Event
    @middleware(checks: ["admin"])
    @delete(globalId: true)

  updateEvent(input: UpdateEvent!): Event
    @middleware(checks: ["admin"])
    @field(resolver: "App\\GraphQL\\Mutations\\Events\\Update@resolve")
}
